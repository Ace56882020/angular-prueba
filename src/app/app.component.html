<mat-toolbar>
  <span>Book</span>
</mat-toolbar>
<div *ngIf="active; else inactive">
  <button mat-raised-button color="primary" (click)="new()">
    <mat-icon>add</mat-icon>Nuevo
  </button>
  <table
    mat-table
    #table
    [dataSource]="dataSource"
    matSort
    (matSortChange)="announceSortChange($event)"
    class="mat-elevation-z8"
  >
    <ng-container matColumnDef="action">
      <th
        mat-header-cell
        *matHeaderCellDef
        mat-sort-header
        sortActionDescription="Sort by number"
      >
        Acciones
      </th>
      <td mat-cell *matCellDef="let element">
        <button mat-mini-fab color="primary" (click)="actionOpen()">
          <mat-icon>create</mat-icon>
        </button>
        <button mat-mini-fab color="primary">
          <mat-icon>delete_forever</mat-icon>
        </button>
      </td>
    </ng-container>
    <!-- Position Column -->
    <ng-container matColumnDef="name">
      <th
        mat-header-cell
        *matHeaderCellDef
        mat-sort-header
        sortActionDescription="Sort by name"
      >
        Nombre libro
      </th>
      <td mat-cell *matCellDef="let element">{{ element.name }}</td>
    </ng-container>

    <!-- Name Column -->
    <ng-container matColumnDef="description">
      <th
        mat-header-cell
        *matHeaderCellDef
        mat-sort-header
        sortActionDescription="Sort by description"
      >
        Descripción
      </th>
      <td mat-cell *matCellDef="let element">{{ element.description }}</td>
    </ng-container>

    <!-- Weight Column -->
    <ng-container matColumnDef="author">
      <th
        mat-header-cell
        *matHeaderCellDef
        mat-sort-header
        sortActionDescription="Sort by author"
      >
        Author
      </th>
      <td mat-cell *matCellDef="let element">{{ element.author }}</td>
    </ng-container>

    <!-- Symbol Column -->
    <ng-container matColumnDef="date">
      <th
        mat-header-cell
        *matHeaderCellDef
        mat-sort-header
        sortActionDescription="Sort by date"
      >
        Fecha publicación
      </th>
      <td mat-cell *matCellDef="let element">{{ element.date }}</td>
    </ng-container>
    <ng-container matColumnDef="numbercopies">
      <th
        mat-header-cell
        *matHeaderCellDef
        mat-sort-header
        sortActionDescription="Sort by numbercopies"
      >
        # ejemplares
      </th>
      <td mat-cell *matCellDef="let element">{{ element.numbercopies }}</td>
    </ng-container>
    <ng-container matColumnDef="cost">
      <th
        mat-header-cell
        *matHeaderCellDef
        mat-sort-header
        sortActionDescription="Sort by numbercopies"
      >
        Costo
      </th>
      <td mat-cell *matCellDef="let element">{{ element.cost }}</td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
  <mat-paginator
    [pageSizeOptions]="[5, 10, 20]"
    showFirstLastButtons
    aria-label="Select page of periodic elements"
  >
  </mat-paginator>
</div>

<ng-template #inactive>
  <mat-card>
    <div class="contenedor">
      <form #f="ngForm">
        <mat-grid-list cols="2" rowHeight="60px">
          <mat-grid-tile>
            <mat-form-field>
              <mat-label>Nombre libro</mat-label>
              <input
                name="name"
                ngModel
                required
                placeholder="Nombre libro"
                matInput
              />
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile>
            <mat-form-field>
              <mat-label>Descripción</mat-label>
              <input
                name="description"
                ngModel
                required
                placeholder="Descripción"
                matInput
              />
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile>
            <mat-form-field>
              <mat-label>Autor</mat-label>
              <input
                name="author"
                ngModel
                required
                placeholder="Autor"
                matInput
              />
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile>
            <mat-form-field>
              <mat-label>Fecha publicación</mat-label>
              <input
                name="publicationDate"
                ngModel
                required
                placeholder="Fecha publicación"
                matInput
              />
            </mat-form-field> 
          </mat-grid-tile>
   
          <mat-grid-tile>
            <mat-form-field>
              <mat-label># ejemplares</mat-label>
              <input
                name="numbercopies"
                ngModel
                required
                placeholder="# ejemplares"
                matInput
              />
            </mat-form-field> 
          </mat-grid-tile>
          <mat-grid-tile>
            <mat-form-field>
              <mat-label>Costo</mat-label>
              <input
                name="cost"
                ngModel
                required
                placeholder="Costo"
                matInput
              />
            </mat-form-field> 
          </mat-grid-tile>
        </mat-grid-list>
        <div>
          <ng-template #elseTemplate>
            <h2>Desea eliminar medicamento?</h2>
          </ng-template>
        </div>
      </form>
    </div>
    <div mat-dialog-actions style="    margin: 0 auto;
    display: table;">
      <button
        mat-raised-button
        (click)="closeDialog()"
        style="
          background: #ffffff;
          color: #000000;
          font-weight: bold;
          margin-right: 15px;
        "
      >
        Cancel
      </button>
      <button
        mat-raised-button
        (click)="doAction(f)"
        [disabled]="f.invalid"
        style="font-weight: bold"
      >Crear</button>
    </div>
  </mat-card>
</ng-template>
<router-outlet></router-outlet>
